<div class="main-content">
  <div class="container-fluid">
    <div class="card row">
      <div class="card-header">
        <h3>{{setup.name}}</h3>
      </div>
      <div class="card-content">
        <form>
          <div class="row">
            <div class="">
              <div class="col-sm-12 col-xs-12 setup-image">
                <cl-image data-u="image" public-id="{{setup.imgId}}" cloud-name="{{mainService.cloudName}}" class="md-card-image" crop="fill" quality="80" height="150" width="200" format="jpg">
                </cl-image>
              </div>
              <div class="col-lg-7 col-md-7 col-sm-12 col-xs-12">
                <div class="form-group label-floating">
                  <label class="control-label">Setup Name</label>
                  <input class="form-control" [value]="setup.name" readonly />
                </div>
                <div class="form-group label-floating">
                  <label class="control-label">Created by:</label>
                  <input class="form-control" [value]="setup.createdUser" readonly>
                </div>
              </div>
              <div class="col-md-12 col-lg-12">
                <textarea class="form-control" [value]="setup.setupDescription" readonly ></textarea>
              </div>
            </div>
          </div>

          <div class="row card difficulty expanded">
            <div class="cheader card-header">
              <h3>
                Difficulty
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="card-content">
              <div class="col-md-4 col-lg-4">
                <div class="col-lg-6 col-md-6 col-sm-6 roles-names form-group label-floating">
                  <label class="control-label">Difficulty level</label>
                  <input class="form-control" [value]="setup.difficulty" readonly />
                </div>
              </div>
            </div>
          </div>

          <div class="row card member-count expanded">
            <div class="cheader card-header">
              <h3>
                Recommended Number of Players
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="card-content">
              <div class="col-md-12 col-lg-12">
                <div class="form-group label-floating col-lg-6 col-md-6 col-sm-6">
                  <label class="control-label">Minimum</label>
                  <input class="form-control" readonly type="number" [value]="setup.minimumMember" />
                </div>
                <div class="form-group label-floating col-lg-6 col-md-6 col-sm-6">
                  <label class="control-label">Maximum</label>
                  <input class="form-control" readonly type="number" [value]="setup.maximumMember" />
                </div>
              </div>
            </div>
          </div>


          <div class="row card playTime expanded">
            <div class="cheader card-header">
              <h3>
                Expected Play Time
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="card-content">
              <div class="col-md-12 col-lg-12">
                <div class="form-group label-floating col-lg-6 col-md-6 col-sm-6">
                  <label class="control-label"></label>
                  <input class="form-control" readonly [value]="setup.playTime + ' mins'" />
                </div>
              </div>
            </div>
          </div>

          <div class="row teams card expanded">
            <div class="cheader card-header">
              <h3>
                Teams
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="teams-list card-content">
              <div class="team" *ngFor="let team of setup.teams; let idx = index;">
                <div class="form-group label-floating col-lg-6 col-md-6 col-sm-6">
                  <label class="control-label">Name</label>
                  <input class="form-control" readonly [value]="team.name" />
                </div>
                <div class="form-group label-floating col-lg-3 col-md-3 col-sm-3">
                  <div class="color" [style.background]="team.color"></div>
                </div>
                <div class="form-group label-floating col-lg-12 col-md-12 col-sm-12">
                  <label class="control-label">Win Condition</label>
                  <textarea class="form-control" [value]="team.description" readonly></textarea>
                </div>
              </div>
            </div>
          </div>

          <div class="row roles card expanded">
            <div class="cheader card-header">
              <h3>
                Roles <small class="description">What roles are in the game and how do they work?</small>
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="roles-list card-content">
              <div class="" *ngFor="let role of setup.roles; let ii = index;">
                <div class="col-md-2 col-lg-2 col-sm-2">
                  <cl-image data-u="image" public-id="{{role.imgId}}" cloud-name="{{mainService.cloudName}}" class="md-card-image" crop="fill" quality="80" height="560" width="860" format="jpg">
                  </cl-image>
                </div>
                <div class="col-md-10 col-lg-10 col-sm-10">
                  <div class="col-lg-6 col-md-6 col-sm-6 roles-names form-group label-floating">
                    <label class="control-label">Role Name</label>
                    <input class="form-control" [value]="role.name" readonly />
                  </div>
                  <div class="form-group label-floating col-lg-6 col-md-6 col-sm-6">
                    <label class="control-label">Team</label>
                    <input class="form-control" [value]="role.team" readonly />
                  </div>
                  <div class="form-group label-floating col-lg-12 col-md-12 col-sm-12">
                    <label class="control-label">Description</label>
                    <textarea class="form-control" readonly [value]="role.description"></textarea>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row intersection card expanded">
            <div class="cheader card-header">
              <h3>
                Interactions
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="narrations-list card-content">
              <div class="team" *ngFor="let intersection of setup.intersections; let idx = index;">
                <div class="form-group label-floating multiselection">
                  <label class="control-label">Roles/Teams</label>
                  <input class="form-control" [value]="getIntersectionSelectOptions()" readonly />
                </div>
                <div class="form-group label-floating col-lg-12 col-md-12 col-sm-12">
                  <label class="control-label">Description</label>
                  <textarea class="form-control" [value]="intersection.description" readonly></textarea>
                </div>
              </div>
            </div>
          </div>

          <div class="row narration card expanded">
            <div class="cheader card-header">
              <h3>
                Narration <small class="description">Does the order in which roles are woken up matter? What is announced when people die? etc.</small>
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="narrations-list card-content">
              <div class="team" *ngFor="let narration of setup.narrations; let idx = index;">
                <div class="form-group label-floating col-lg-6 col-md-6">
                  <label class="control-label">Teams</label>
                  <input class="form-control" [value]="getRolesSelectOptions(narration)" readonly />
                </div>
                <div class="form-group label-floating col-lg-12 col-md-12 col-sm-12">
                  <label class="control-label">Narration</label>
                  <textarea class="form-control" readonly [value]="narration.description" ></textarea>
                </div>
              </div>
            </div>
          </div>


          <div class="row voting-roles card expanded">
            <div class="cheader card-header">
              <h3>
                Voting Rules <small class="description">How does voting work? Are ties possible? etc.</small>
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="roles-list card-content">
              <div class="col-md-10 col-lg-10 col-sm-10">
                <div class="col-lg-6 col-md-6 col-sm-6 roles-names form-group label-floating">
                  <label class="control-label">Voting Name</label>
                  <input class="form-control" [value]="setup.voting.name" readonly />
                </div>
                <div class="form-group label-floating col-lg-12 col-md-12 col-sm-12">
                  <label class="control-label">Description</label>
                  <textarea class="form-control" [value]="setup.voting.description" readonly ></textarea>
                </div>
              </div>
            </div>
          </div>


          <div class="row missing-rules card expanded">
            <div class="cheader card-header">
              <h3>
                Additional Rules and Corner Cases <small class="description">What rules have you missed</small>
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="additonal-rules-list card-content">
              <div class="" *ngFor="let additionalRule of setup.additionalRules; let idx = index;">
                <div class="form-group label-floating">
                  <label class="control-label">Roles/Teams</label>
                  <input class="form-control" [value]="getRolesTeams(additionalRule)" readonly />
                </div>
                <div class="form-group label-floating col-lg-12 col-md-12 col-sm-12">
                  <label class="control-label">Description</label>
                  <textarea class="form-control" [value]="additionalRule.description" readonly ></textarea>
                </div>
              </div>
            </div>
          </div>


          <div class="row role-frequecies card expanded">
            <div class="cheader card-header">
              <h3>
                Role Frequencies
                <small>Do you use randomization to generate your set of roles? If so, how?</small>
                <i class="material-icons pull-right" (click)="collapseExpand($event)">code</i>
              </h3>
            </div>
            <div class="card-content">
              <div class="col-md-12 col-lg-12">
                <textarea class="form-control" readonly [value]="setup.roleFrequencies" ></textarea>
              </div>
              <div class="col-md-12 col-lg-12">
                <div class="card">
                  <div class="card-content">
                    <div class="table-responsive">
                      <table class="table table-striped">
                        <thead class="text-primary">
                        <tr>
                          <th>Number of players</th>
                          <th *ngFor="let val of numbers">{{val}}</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let role of roles; let roleIdx = index;">
                          <td>{{role.name}}</td>
                          <td *ngFor="let val of numbers; let valIdx = index;">
                            <input class="form-control" type="number" [(ngModel)]="tblVal[roleIdx][val]" name="{{'tblVal' + valIdx}}" />
                          </td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr>
                          <td>Total</td>
                          <td *ngFor="let val of numbers">{{calcSum(val)}}</td>
                        </tr>
                        </tfoot>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="card-footer">

      </div>
    </div>
  </div>
</div>
